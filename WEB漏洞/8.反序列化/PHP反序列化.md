![image-20230919000359271](https://cdn.unrun.top/zhangwei/image-20230919000359271.png)

# 原理

serialize()序列化：对象转换为字符串

unserialize()反序列化：字符串转换为对象

对象的序列化有利于对象的保存和传输，也可以让多个文件共享对象



漏洞原理：

未对用户输入的序列化字符串进行检测，导致攻击者可以控制反序列化过程，

从而导致代码执行、SQL注入、目录遍历等不可控后果



## 分类

有类：触发魔术方法

无类：



![image-20230919001121392](https://cdn.unrun.top/zhangwei/image-20230919001121392.png)

注意：

123->i:123

"123"->s:3:"123"

class number{x=123}->O:6:"number":2:{i:3:"123";}





# 利用

需要构造class，在里面给模板类中声明的变量赋值，再序列化









如，利用===要求类型和值都一样，==只要求值一样，从而用' 2'或数字2绕过==='2'