http： HTTP+TCP+IP

https： HTTP+SSL/TLS+TCP+IP

## 请求包数据结构

请求行，请求头，空行，请求体（post会使用）

### 请求行

请求方法、请求URL、HTTP版本，空格间隔

eg. GET / HTTP/1.1 Accept

HTTP规定了8种请求方法：

![img](https://img-blog.csdnimg.cn/img_convert/d08f4bcea1809d899e778428835b7993.png)

1、OPTIONS

返回服务器针对特定资源所支持的HTTP请求方法，也可以利用向web服务器发送‘*’的请求来测试服务器的功能性

2、HEAD

向服务器索与GET请求相一致的响应，只不过响应体将不会被返回。这一方法可以再不必传输整个响应内容的情况下，就可以获取包含在响应小消息头中的元信息。

3、GET

向特定的资源发出请求。注意：GET方法不应当被用于产生“副作用”的操作中，例如在Web Application中，其中一个原因是GET可能会被网络蜘蛛等随意访问。Loadrunner中对应get请求函数：web_link和web_url

4、POST

向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。 Loadrunner中对应POST请求函数：web_submit_data,web_submit_form

5、PUT

向指定资源位置上传其最新内容

6、DELETE

请求服务器删除Request-URL所标识的资源

7、TRACE

回显服务器收到的请求，主要用于测试或诊断

8、CONNECT

HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。

注意：

1）方法名称是区分大小写的，当某个请求所针对的资源不支持对应的请求方法的时候，服务器应当返回状态码405（Mothod Not Allowed）；当服务器不认识或者不支持对应的请求方法时，应返回状态码501（Not Implemented）。

2）HTTP服务器至少应该实现GET和HEAD/POST方法，其他方法都是可选的，此外除上述方法，特定的HTTP服务器支持扩展自定义的方法。

### 请求头（键值对）

1. HOST

   主机或域名地址，对应网址URL中的web名称和端口号

2. Accept

   表示当前浏览器可以接受的MIME文件类型，servlet可以根据它判断并返回适当文件格式。假设这里有 image/webp，表示当前浏览器可以支持 webp 格式的图片，那么当服务器给当前浏览器下发 webp 的图片时，可以更省流量。

3. Accept-Encoding

   表示当前浏览器可以接受的数据编码，如果服务器吐出的数据不是浏览器可接受的编码，就会产生乱码。

4. Accept-Language

   表示当前使用的浏览语言，en或en-us表示英语。

5. Cookie

   很多和用户相关的信息都存在 Cookie 里，用户在向服务器发送请求数据时会带上。例如，用户在一个网站上登录了一次之后，下次访问时就不用再登录了，就是因为登录成功的 token 放在了 Cookie 中，而且随着每次请求发送给服务器，服务器就知道当前用户已登录。

6. Connection

   告诉服务器是否可以维持固定的http连接。HTTP/1.1使用Keep-Alive作为默认值

7. User-Agent

   表示客户端浏览器的版本信息。当服务器收到浏览器的这个请求后，会经过一系列处理，返回一个数据包给浏览器，而响应头里就会描述这个数据包的基本信息。

8. Referer

   表明产生请求的网页URL，可以跟踪web请求是什么网站来的

## 响应包数据结构

状态行、响应头标、空行、响应数据

### HTTP响应码:

1xx：信息，请求收到，继续处理

2xx：成功，行为被成功地接受、理解和采纳

3xx：重定向，为了完成请求，必须进一步执行的动作

4xx：客户端错误

5xx：服务器错误

200：存在文件

403：存在文件夹

3xx：可能存在

404：不存在文件及文件夹

500：可能存在

### 状态行

### 响应头

1) content-encoding
表示返回内容的压缩编码类型，如“Content-Encoding :gzip”表示这次回包是以 gzip 格式压缩编码的，这种压缩格式可以减少流量的消耗。
2) content-length
表示这次回包的数据大小，如果数据大小不匹配，要当作异常处理。
3) content-type
表示数据的格式，它是一个 HTML 页面，同时页面的编码格式是 UTF-8，按照这些信息，可以正常地解析出内容。content-type 为不同的值时，浏览器会做不同的操作，如果 content-type 是 application/octet-stream，表示数据是一个二进制流，此时浏览器会走下载文件的逻辑，而不是打开一个页面。
4) set-cookie
服务器通知浏览器设置一个 Cookie；通过 HTTP 的 Header，可以识别出用户的一些详细信息，方便做更定制化的需求，如果大家想探索自己发出的请求中头里面有些什么，可以这样做：打开 Chrome 浏览器并按“F12”键，唤起 Chrome 开发者工具，选择 network 这个 Tab，浏览器发出的每个请求的详情都会在这里显示。

### 空行

### 响应数据



burpsuite默认只抓取http数据包

https需要配置才能抓取



电脑访问app，需要将电脑浏览器发送的数据包先用抓包工具改成适合手机的数据包格式，再发送出去

